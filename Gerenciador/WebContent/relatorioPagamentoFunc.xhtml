<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">


	<ui:composition template="template.xhtml">
	<ui:define name="titulo">Emissão de Relatório</ui:define>
	       
	<h:head></h:head>
	<ui:define name="conteudo"> 
    <p:growl id="msg" life="5000"/>
     <p:outputLabel value="Relatório de Pagamento por Funcionário " />
     
	 <h:form>
	      <p:panelGrid columns="2">
	 	     <p:outputLabel  value=" Funcionário:" />
                   <p:selectOneMenu value="#{relatorioPagamentoFuncionario.idFunc}">
    			   <f:selectItem itemLabel="Selecione... " itemValue="#{null}" />
   				   <f:selectItems value="#{relatorioPagamentoFuncionario.funcionarios}" var="funcionario"
        		          itemLabel="#{funcionario.nome}" itemValue="#{funcionario.id}" />
				</p:selectOneMenu>

                    <p:commandButton action="#{relatorioPagamentoFuncionario.gerarRelatorioPagamentosPorFuncionario}" value="Gerar Relatório" 
                        process="@form" update="msg" />  
                </p:panelGrid>

            <h:form>
                <p:dataTable value="#{relatorioPagamentoFuncionario.pagamentos}" var="pagamento">
                    <p:column headerText="Funcionário">
                        <h:outputText value="#{pagamento.funcionario.nome}" />
                    </p:column>
                    <p:column headerText="Filial">
                        <h:outputText value="#{pagamento.funcionario.filial.nome}" />
                    </p:column>
                    <p:column headerText="Valor">
                        <h:outputText value="#{pagamento.valor}" />
                    </p:column>
                    <p:column headerText="Data do Pagamento">
                        <h:outputText value="#{pagamento.dataPagamento}" />
                    </p:column>
                    <p:column headerText="Bônus">
                        <h:outputText value="#{pagamento.bonus}" />
                    </p:column>
                    <p:column headerText="Mês">
                        <h:outputText value="#{pagamento.mesReferente}" />
                    </p:column>
                    <p:column headerText="Ano">
                        <h:outputText value="#{pagamento.anoReferente}" />
                    </p:column>
                </p:dataTable>
            </h:form>
          <h:form>
              <p:dataTable  value="#{relatorioPagamentoFuncionario}" var="pagamento">//
                <p:column headerText="Total de Pagamentos: ">
                    
                  
                </p:column>
              </p:dataTable>
             </h:form>
       </h:form>
     </ui:define>
	</ui:composition> 
</html>
